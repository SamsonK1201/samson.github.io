<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <title>Shop Page</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        ::selection {
            background-color: transparent;
        }

        #back {
            position: absolute;
            color: white;
            top: 2%;
            left: 1%;
        }

        #backButton {
            font-size: 30px;
            font-family: 'Courier New', Courier, monospace;
            font-style: bold;
            border-radius: 10px;
        }

        .shopButton {
            font-size: 20px;
            font-family: 'Courier New', Courier, monospace;
            font-style: bold;
            border-radius: 10px;
        }

        #shop {
            width: 100%;
            height: 50vh;
            align-items: center;
            display: flex;
            justify-content: space-around;
            margin: auto;
            align-content: center;
            flex-direction: row;
            margin-top: 2%;
            text-align: center;
        }

        .row1 {
            width: 20%;
            height: 60%;
            margin: auto;
        }

        #shop2 {
            width: 100%;
            height: 50vh;
            align-items: center;
            display: flex;
            justify-content: space-around;
            margin: auto;
            align-content: center;
            flex-direction: row;
            margin-top: -2%;
            text-align: center;

        }

        .row2 {
            width: 20%;
            height: 60%;
            margin: auto;
        }

        .crop {
            width: 100%;
            height: 100%;
        }

        #stats {
            display: flex;
            flex-direction: column;
            left: 10%;
            width: 30%;
            height: 10vh;
            position: absolute;
        }

        .statsdiv {
            width: 100%;
            margin-top: -30px;
            
        }

        h2 {
            color: black;
        }
    </style>

</head>

<body>
    <div id="back">
        <button onclick="back()" id="backButton">Back</button>
    </div>
    <div id="stats">
        <div class="statsdiv">
            <h2 id="money"></h2>
        </div>
        <div class="statsdiv">
            <h2 id="exp"></h2>
        </div>
    </div>


    <div id="shop">
        <div class="row1">
            <img src="sugarcane.png" class="crop">
            <button onclick="sugarcane()" id="sugarcane" class="shopButton">Sugarcane</button>
        </div>
        <div class="row1">
            <img src="corn.png" class="crop">
            <button onclick="corn()" id="corn" class="shopButton">Corn</button>
        </div>
        <div class="row1">
            <img src="sorghum.png" class="crop">
            <button onclick="sorghum()" id="sorghum" class="shopButton">Sorghum</button>
        </div>
    </div>
    <div id="shop2">
        <div class="row2">
            <img src="canola.png" class="crop">
            <button onclick="canola()" id="canola" class="shopButton">Canola</button>
        </div>
        <div class="row2">
            <img src="sunflower.png" class="crop">
            <button onclick="sunflower()" id="sunflower" class="shopButton">Sunflower</button>
        </div>
        <div class="row2">
            <img src="soybean.png" class="crop">
            <button onclick="soybean()" id="soybean" class="shopButton">Soybean</button>
        </div>
    </div>
</body>
<script>
    let w = window.innerWidth
    let h = window.innerHeight
    let exp = 0
    let money = 0
    let level = 0
    let sugarcaneBought = 0

    function back() {
        window.location.href = "VideoGameProject.html"
    }

    window.onload = function () {
        money = localStorage.getItem('money')
        exp = localStorage.getItem('exp')
        level = localStorage.getItem('level')
        //FIX LOCAL STORAGE PLS HURRY TIME IS RUNNING OUT 
        document.getElementById('money').innerHTML = "Money: $" + money
        document.getElementById('exp').innerHTML = "Exp: " + exp
        sugarcaneBought = parseFloat(localStorage.getItem('sugarcaneBought'))
        cornBought = parseFloat(localStorage.getItem('sugarcaneBought'))
        if (sugarcaneBought == 1){
            document.getElementById('sugarcane').innerHTML = "You bought this!"
        }
    }

    function sugarcane() {
        console.log(level)
        if (level == 1){
            if (money >= 1500 && exp >= 300){
                document.getElementById('sugarcane').innerHTML = "You bought this!"
                sugarcaneBought = 1
                localStorage.setItem('sugarcaneBought', sugarcaneBought)
            }
        }
        else {
            document.getElementById('sugarcane').innerHTML = "You can't buy this yet!"
        }

    }

    function corn() {
        if (level == 2){
            if (money >= 4500 && exp >= 1000){
                document.getElementById('corn').innerHTML = "You bought this!"
                cornBought = 1
                localStorage.setItem('cornBought', cornBought)
            }
        }
        else {
            document.getElementById('corn').innerHTML = "You can't buy this yet!"
        }
    }

    function sorghum() {
        if (level == 3){
            if (money >= 4500 && exp >= 1000){
                document.getElementById('sorghum').innerHTML = "You bought this!"
                cornBought = 1
                localStorage.setItem('sorghumBought', cornBought)
            }
        }
        else {
            document.getElementById('corn').innerHTML = "You can't buy this yet!"
        }
    }

    function canola() {
        if (level == 4){
            if (money >= 4500 && exp >= 1000){
                document.getElementById('canola').innerHTML = "You bought this!"
                cornBought = 1
                localStorage.setItem('canolaBought', canolaBought)
            }
        }
        else {
            document.getElementById('corn').innerHTML = "You can't buy this yet!"
        }
    }

    function sunflower() {
        croplevel = 5
        document.getElementById('sunflower').innerHTML = "You bought this"
    }

    function soybean() {
        croplevel = 6
        document.getElementById('soybean').innerHTML = "You bought this"
    }


</script>

</html>